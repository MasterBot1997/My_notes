
---

В MySQL настройка параметров, таких как `wait_timeout`, `max_allowed_packet` и других, осуществляется через конфигурационные файлы сервера. Давайте разберем, как это сделать:

### Шаг 1: Найдите конфигурационный файл MySQL
Обычно конфигурационный файл MySQL называется `my.cnf` или `my.ini` и находится в одном из следующих мест:
- В Linux:
  - `/etc/my.cnf`
  - `/etc/mysql/my.cnf`
  - `/usr/local/mysql/etc/my.cnf`
  - `/etc/mysql/mysql.conf.d/mysqld.cnf`


> **Примечание:** Версия и местоположение конфигурационного файла могут отличаться в зависимости от установки и версии MySQL/MariaDB.

### Шаг 2: Откройте конфигурационный файл для редактирования
Используйте текстовый редактор для редактирования файла. В Linux это можно сделать, например, с помощью `nano`:

```bash
sudo nano /etc/my.cnf
```

### Шаг 3: Настройте нужные параметры
Теперь можно настроить параметры. Ниже приведены примеры настройки некоторых распространенных параметров:

#### 1. `wait_timeout`
Этот параметр определяет время (в секундах), в течение которого соединение может оставаться неактивным перед закрытием.

```ini
[mysqld]
wait_timeout = 28800  # время в секундах (например, 8 часов)
```

#### 2. `max_allowed_packet`
Определяет максимальный размер пакета, который может быть передан или получен сервером. Используется, например, для передачи больших бинарных данных (BLOB).

```ini
[mysqld]
max_allowed_packet = 64M  # например, 64 MB
```

#### 3. Другие параметры (примеры)

- **`interactive_timeout`** — устанавливает время ожидания для интерактивных соединений (например, с командной строки MySQL).
- **`connect_timeout`** — время, в течение которого MySQL ожидает завершения попытки соединения.
- **`innodb_buffer_pool_size`** — основной параметр, регулирующий объем памяти, выделяемый для хранения данных InnoDB.

Пример конфигурации:

```ini
[mysqld]
wait_timeout = 28800
interactive_timeout = 28800
connect_timeout = 10
max_allowed_packet = 64M
innodb_buffer_pool_size = 1G
```

### Шаг 4: Сохраните изменения и перезапустите MySQL
После изменения конфигурации сохраните файл и перезапустите MySQL, чтобы изменения вступили в силу.

Для Linux:

```bash
sudo systemctl restart mysql
```


### Шаг 5: Проверьте настройки
После перезапуска MySQL вы можете убедиться, что параметры применились, выполнив команду:

```sql
SHOW VARIABLES LIKE 'wait_timeout';
SHOW VARIABLES LIKE 'max_allowed_packet';
```

Эти команды отобразят текущее значение каждого параметра.
