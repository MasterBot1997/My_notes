
---

### Команда запуска сервера 

java -Xms1024M -Xmx1024M -jar minecraft_server.1.20.4.jar nogui - конкретно для меня

```
1  ll
2  java -Xms1024M -Xmx1024M -jar minecraft_server.1.20.4.jar nogui
3  vim eula.txt
4  vim server.properties
5  java -Xms1024M -Xmx1024M -jar minecraft_server.1.20.4.jar nogui
6  date
7  java -Xms1024M -Xmx1024M -jar minecraft_server.1.20.4.jar nogui
8  history
```

---

В данный момент есть проблема с открытой доступностью сервера, надо ее зарешать путем добавления плагина авторизации **AuthMe**:

- https://www.spigotmc.org/resources/authmereloaded.6269/
- https://minesborka.ru/plugins/2-plagin-authme-plagin-na-avtorizaciju-i-registraciju-na-servere-minecraft.html
От гпт
	**AuthMe** — это плагин для Minecraft-серверов, который обеспечивает аутентификацию игроков через регистрацию и пароли. Он чаще всего используется на серверах, работающих в **offline-режиме**, когда сервер не проверяет учетные записи игроков через официальные серверы Mojang (Microsoft). В этом случае плагин добавляет дополнительный уровень защиты, так как без него игроки могли бы подделывать ники и заходить под чужими именами.

### Основные функции AuthMe:

1. **Регистрация и вход с паролем**: Игроки должны зарегистрироваться на сервере, указав пароль, и каждый раз при входе вводить его. Это предотвращает несанкционированное использование их ников.
2. **Система защиты учетных записей**: После входа игрока, его ник и пароль хранятся в базе данных сервера, и только зарегистрированные игроки могут подключаться.
3. **Защита от взлома**: Плагин поддерживает шифрование паролей с использованием различных алгоритмов (например, BCrypt), что делает пароли игроков защищенными даже в случае утечки данных.
4. **Защита от взлома учетных записей по IP**: Вы можете настроить ограничения на число попыток входа с одного IP-адреса, что предотвращает атаки перебором паролей.
5. **Двухфакторная аутентификация (2FA)**: Некоторые версии и модификации AuthMe поддерживают двухфакторную аутентификацию для дополнительной безопасности.
6. **Поддержка множества баз данных**: AuthMe может использовать базы данных, такие как MySQL, SQLite, для хранения данных о пользователях, что упрощает управление крупными серверами.
7. **Совместимость с другими плагинами**: AuthMe хорошо интегрируется с различными плагинами для управления правами, экономикой и другими функциями сервера.

### Установка и настройка AuthMe:

1. **Загрузка плагина**:
    - Плагин AuthMe можно загрузить с официальных сайтов, таких как **SpigotMC** или **Bukkit**. Вот ссылка на один из распространенных источников: AuthMe на SpigotMC.
2. **Установка на сервер**:
    
    1. Скачайте файл плагина **AuthMe.jar**.
    2. Поместите его в папку **plugins** на вашем сервере Minecraft (сервер должен быть на основе Spigot, Paper или другого форка Bukkit).
    3. Перезапустите сервер. После этого в папке **plugins** появится папка **AuthMe** с файлами конфигурации.
3. **Настройка конфигурации**: В папке **plugins/AuthMe** находится файл **config.yml**, который можно настроить для конкретных нужд вашего сервера. Вот основные параметры:
    
- **Регистрация и вход**:
```
Требовать регистрации новых игроков: enable
Registration: true 
 
Автоматический вход зарегистрированных пользователей: 
forceLogin: true 
 
Максимальное количество попыток входа: 
maxLoginTries: 5 
 
Минимальная длина пароля: 
passwordMinLength: 8
```

- **Шифрование паролей**: AuthMe использует надежное шифрование для хранения паролей. Вы можете выбрать метод шифрования:
```
passwordHash: bcrypt
```

- **Ограничение доступа по IP**: Вы можете настроить ограничения по IP, чтобы игроки не могли входить с разных IP под одним ником:
```
session:
  enableSession: true
  sessionExpireTime: 10
```

- **Настройки базы данных**: Если ваш сервер использует базу данных MySQL, вы можете подключить плагин к ней:
```
DataSource:
  mySQLHost: 'localhost'
  mySQLPort: '3306'
  mySQLDatabase: 'minecraft'
  mySQLUsername: 'user'
  mySQLPassword: 'password'

```

4. **Использование плагина в игре**: После настройки плагина игроки смогут взаимодействовать с ним через команды.

- **Регистрация**: Игрок должен зарегистрироваться, используя команду:
```
/register [пароль] [подтверждение пароля]
/register mypassword mypassword
```
- **Вход**: После регистрации игрок каждый раз должен вводить свой пароль при входе:
```
/login [пароль]
/login mypassword
```
- **Сброс пароля** (только для администратора): Если игрок забыл пароль, администратор может сбросить его:
```
/authme unregister [имя игрока]
```

### Дополнительные функции:

- **Капча**: Для защиты от автоматизированных попыток входа можно включить капчу.
- **Защита от взломов**: Возможность временной блокировки IP-адресов при множественных неудачных попытках входа.
- **Двухфакторная аутентификация**: Можно настроить через сторонние приложения (например, Google Authenticator).

### Преимущества использования AuthMe:

- Защищает игроков от того, что кто-то войдет под их ником, особенно в **offline-режиме**.
- Дополнительный уровень безопасности через пароли и двухфакторную аутентификацию.
- Поддержка шифрования паролей и различных баз данных.
- Гибкость в настройке и интеграция с другими плагинами.

### Заключение

**AuthMe** — это мощный инструмент для защиты серверов Minecraft в offline-режиме или для тех серверов, которые хотят добавить дополнительный уровень безопасности. Он позволяет игрокам регистрироваться и входить с паролем, что исключает возможность злоупотреблений с учетными записями.



