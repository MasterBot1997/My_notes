
---

###### Ссылки:

- https://losst.pro/rsync-primery-sinhronizatsii


---
### Основное

Использование rsync для синхронизации файла на локальном компьютере: 

```
rsync -zvh file /tmp/backups/
```

`file` - то что синхронизируем, тут можно указать как **директорию** , так и **файл**  
`/tmp/backup/` - то куда синхронизируем


---

### Принимаемые параметры

---

### Доступные ключи

- **-v** - Выводить подробную информацию о процессе копирования;
- **-q** - Минимум информации;
- **-c** - Проверка контрольных сумм для файлов;
- **-a** - Режим архивирования, когда сохраняются все атрибуты оригинальных файлов;
- **-R** - Относительные пути;
- **-b** - Создание резервной копии;
- **-u** - Не перезаписывать более новые файлы;
- **-l** - Копировать символьные ссылки;
- **-L** - Копировать содержимое ссылок;
- **-H** - Копировать жесткие ссылки;
- **-p** - Сохранять права для файлов;
- **-g** - Сохранять группу;
- **-t** - Сохранять время модификации;
- **-x** - Работать только в этой файловой системе;
- **-e** - Использовать другой транспорт, например, ssh;
- **-z** - Сжимать файлы перед передачей;
- **--delete** - Удалять файлы которых нет в источнике;
- **--exclude** - Исключить файлы по шаблону;
- **--recursive** - Перебирать директории рекурсивно;
- **--no-recursive** - Отключить рекурсию;
- **--progress** - Выводить прогресс передачи файла;
- **--stat** - Показать статистику передачи;
- **--version** - Версия утилиты.
- `--chown=admin:admin` - Указать владельца и группу при переносе, что бы не менять на сервере, если не указать, сохраняются данные с сервера откуда переносим 
- `--chmod=644` - Задаем права на файлы при переносе, иначе сохраняться исходные файлы 

---

### Скрипты

`rsync --chown=user:user --chmod=644 -ah --info=progress2,stats1` - приятно выводит прогрес синка без 100000000 строк 

---

Из тулзы для переноса 
```
rsync -a -u --info=progress2 --no-inc-recursive
```

Кайф, предопределяет кол-во файлов потом заускает синк с норм прогрессом