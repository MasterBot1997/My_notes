
---

Команда `fsck` (file system consistency check) используется для проверки и исправления ошибок файловой системы на диске. Она сканирует файловую систему на наличие логических и структурных ошибок, которые могут возникнуть из-за сбоев питания, аппаратных неполадок, или некорректного завершения работы системы.

### Основной вывод и работа `fsck`
Команда `fsck` выполняет следующие функции:
- **Проверка файловой системы**: Анализирует структуру и целостность данных в файловой системе, проверяя таблицу размещения файлов и структуру каталогов.
- **Исправление ошибок**: Если ошибки найдены, `fsck` может их исправить (с разрешения пользователя или автоматически, в зависимости от флагов). Исправление включает устранение проблем с поврежденными файлами и невалидными ссылками.
- **Сообщение об ошибках**: Если ошибки обнаружены, но не исправлены, `fsck` выводит их в виде диагностических сообщений, что позволяет пользователю решать их вручную.

### Популярные параметры `fsck`
- **`-A`** — проверяет все файловые системы, перечисленные в `/etc/fstab`.
  
- **`-r`** — запрашивает у пользователя подтверждение перед исправлением ошибок. (Этот параметр может быть полезен для ручного управления исправлениями.)

- **`-y`** — автоматически отвечает "да" на все запросы об исправлении ошибок, что упрощает автоматическое исправление.
  
- **`-n`** — только проверяет файловую систему, не внося изменений (используется для анализа без изменений).

- **`-t <fs_type>`** — указывает тип файловой системы для проверки, например `ext4` или `xfs`.

### Пример использования
1. **Проверить и автоматически исправить ошибки на разделе**:
   ```bash
   fsck -y /dev/sda1
   ```

2. **Только проверить, без исправлений**:
   ```bash
   fsck -n /dev/sda1
   ```

### Когда использовать `fsck`
Команда `fsck` обычно запускается при обнаружении проблем с файловой системой, таких как:
- Ошибки чтения или записи файлов.
- Некорректное монтирование файловой системы.
- Системные сбои, приводящие к некорректному завершению работы.

`fsck` — мощный инструмент для восстановления целостности данных и предотвращения ошибок в работе файловой системы, но его следует применять с осторожностью и на неперемонтированной файловой системе.